{
  "summary": "Builds set of host reference k-mers",
  "arguments": [
    {
      "summary": "read one or more arguments files and add them to the command line",
      "name": "--arguments_file",
      "synonyms": "NA",
      "type": "List[File]",
      "required": "no",
      "fulltext": "",
      "defaultValue": "[]",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    },
    {
      "summary": "If non-zero, creates a Bloom filter with this false positive probability",
      "name": "--bloom-false-positive-probability",
      "synonyms": "-P",
      "type": "double",
      "required": "no",
      "fulltext": "\u003cp\u003eNote that the provided argument is used as an upper limit on the probability, and the actual false positive\n probability may be less.\u003c/p\u003e",
      "defaultValue": "0.0",
      "minValue": "0.0",
      "maxValue": "1.0",
      "minRecValue": "NA",
      "maxRecValue": "0.001",
      "kind": "optional",
      "options": []
    },
    {
      "summary": "A configuration file to use with the GATK.",
      "name": "--gatk-config-file",
      "synonyms": "NA",
      "type": "String",
      "required": "no",
      "fulltext": "",
      "defaultValue": "null",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "common",
      "options": []
    },
    {
      "summary": "If the GCS bucket channel errors out, how many times it will attempt to re-initiate the connection",
      "name": "--gcs-max-retries",
      "synonyms": "-gcs-retries",
      "type": "int",
      "required": "no",
      "fulltext": "",
      "defaultValue": "20",
      "minValue": "-Infinity",
      "maxValue": "Infinity",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    },
    {
      "summary": "Project to bill when accessing \"requester pays\" buckets. If unset, these buckets cannot be accessed.  User must have storage.buckets.get permission on the bucket being accessed.",
      "name": "--gcs-project-for-requester-pays",
      "synonyms": "NA",
      "type": "String",
      "required": "no",
      "fulltext": "",
      "defaultValue": "\"\"",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    },
    {
      "summary": "display the help message",
      "name": "--help",
      "synonyms": "-h",
      "type": "boolean",
      "required": "no",
      "fulltext": "",
      "defaultValue": "false",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    },
    {
      "summary": "Comma-delimited list of base indices (starting with 0) to mask in each k-mer",
      "name": "--kmer-mask",
      "synonyms": "-M",
      "type": "String",
      "required": "no",
      "fulltext": "K-mer masking allows mismatches to occur at one or more specified positions. Masking the middle base is recommended\n to enhance host read detection.",
      "defaultValue": "\"\"",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    },
    {
      "summary": "K-mer size, must be odd and less than 32",
      "name": "--kmer-size",
      "synonyms": "-SZ",
      "type": "int",
      "required": "no",
      "fulltext": "Reducing the k-mer length will increase the number of host reads subtracted in the\n filtering phase of the pipeline, but it may also increase the number of non-host (i.e. microbial)\n reads that are incorrectly subtracted. Note that changing the length of the k-mer does not affect memory usage.",
      "defaultValue": "31",
      "minValue": "1.0",
      "maxValue": "31.0",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    },
    {
      "summary": "Spacing between successive k-mers",
      "name": "--kmer-spacing",
      "synonyms": "-SP",
      "type": "int",
      "required": "no",
      "fulltext": "The k-mer set size can be reduced by only storing k-mers starting at every n bases in the reference. By default\n every k-mer, starting at consecutive bases in the reference, is stored.",
      "defaultValue": "1",
      "minValue": "1.0",
      "maxValue": "Infinity",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    },
    {
      "summary": "File for k-mer set output. Extension will be automatically added if not present (.hss for hash set or .bfi for Bloom filter)",
      "name": "--output",
      "synonyms": "-O",
      "type": "String",
      "required": "yes",
      "fulltext": "",
      "defaultValue": "null",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "required",
      "options": []
    },
    {
      "summary": "Whether to suppress job-summary info on System.err.",
      "name": "--QUIET",
      "synonyms": "NA",
      "type": "Boolean",
      "required": "no",
      "fulltext": "",
      "defaultValue": "false",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "common",
      "options": []
    },
    {
      "summary": "Reference FASTA file path on local disk",
      "name": "--reference",
      "synonyms": "-R",
      "type": "GATKPath",
      "required": "yes",
      "fulltext": "",
      "defaultValue": "null",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "required",
      "options": []
    },
    {
      "summary": "display hidden arguments",
      "name": "--showHidden",
      "synonyms": "-showHidden",
      "type": "boolean",
      "required": "no",
      "fulltext": "",
      "defaultValue": "false",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "advanced",
      "options": []
    },
    {
      "summary": "Temp directory to use.",
      "name": "--tmp-dir",
      "synonyms": "NA",
      "type": "GATKPath",
      "required": "no",
      "fulltext": "",
      "defaultValue": "null",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "common",
      "options": []
    },
    {
      "summary": "Whether to use the JdkDeflater (as opposed to IntelDeflater)",
      "name": "--use-jdk-deflater",
      "synonyms": "-jdk-deflater",
      "type": "boolean",
      "required": "no",
      "fulltext": "",
      "defaultValue": "false",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "common",
      "options": []
    },
    {
      "summary": "Whether to use the JdkInflater (as opposed to IntelInflater)",
      "name": "--use-jdk-inflater",
      "synonyms": "-jdk-inflater",
      "type": "boolean",
      "required": "no",
      "fulltext": "",
      "defaultValue": "false",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "common",
      "options": []
    },
    {
      "summary": "Control verbosity of logging.",
      "name": "--verbosity",
      "synonyms": "-verbosity",
      "type": "LogLevel",
      "required": "no",
      "fulltext": "",
      "defaultValue": "INFO",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "common",
      "options": [
        {
          "summary": "",
          "name": "ERROR"
        },
        {
          "summary": "",
          "name": "WARNING"
        },
        {
          "summary": "",
          "name": "INFO"
        },
        {
          "summary": "",
          "name": "DEBUG"
        }
      ]
    },
    {
      "summary": "display the version number for this tool",
      "name": "--version",
      "synonyms": "NA",
      "type": "boolean",
      "required": "no",
      "fulltext": "",
      "defaultValue": "false",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    }
  ],
  "description": "Produce a set of k-mers from the given host reference. The output file from this tool is required to run the PathSeq pipeline.\n\n \u003cp\u003eThe tool works by scanning the reference one position at a time. It takes the k-mer (k-base subsequence) starting at each\n consecutive position and adds it to a set. By default, the set is stored as a\n \u003ca href\u003d\"https://en.wikipedia.org/wiki/Hash_table\"\u003ehash table\u003c/a\u003e.\u003c/p\u003e\n\n \u003cp\u003eUsers also have the option to represent the k-mers set using a \u003ca href\u003d\"https://en.wikipedia.org/wiki/Bloom_filter\"\u003eBloom\n filter\u003c/a\u003e by specifying a non-zero value for the --bloom-false-positive-probability parameter. This uses less memory\n than the default hash set but also can produce false positives. In other words, when\n asked whether a non-host k-mer exists in the set, it will incorrectly say yes with a probability, p. The user can\n specify p so that the probability of incorrectly subtracting a non-host read is negligibly\n small. For p \u003d 0.0001 and read length of 151 bases, the probability of the PathSeq incorrectly subtracting a non-host\n read is \u003c 1.5%, but the amount of memory used is reduced 4-fold compared to a hash table. For this reason, Bloom\n filters are generally recommended.\u003c/p\u003e\n\n \u003cp\u003eNote that the file formats used for storing these k-mer data structures are only readable by the PathSeq tools.\u003c/p\u003e\n\n \u003ch3\u003eInput\u003c/h3\u003e\n \u003cul\u003e\n     \u003cli\u003eAn indexed host reference in FASTA format\u003c/li\u003e\n \u003c/ul\u003e\n\n \u003ch3\u003eOutput\u003c/h3\u003e\n \u003cul\u003e\n     \u003cli\u003eA set of the k-mers in the reference\u003c/li\u003e\n \u003c/ul\u003e\n\n \u003ch3\u003eUsage examples\u003c/h3\u003e\n\n \u003ch4\u003eBuilds a hash table of every k-mer (k \u003d 31) in the reference. Each k-mer is masked at the 16th position.\u003c/h4\u003e\n \u003cpre\u003e\n gatk PathSeqBuildKmers  \\\n   --reference host_reference.fasta \\\n   --output host_reference.hss \\\n   --kmer-mask 16 \\\n   --kmer-size 31\n \u003c/pre\u003e\n\n \u003ch4\u003eBuilds a Bloom filter with false positive probability p \u003c 0.001.\u003c/h4\u003e\n \u003cpre\u003e\n gatk PathSeqBuildKmers  \\\n   --reference host_reference.fasta \\\n   --output host_reference.hss \\\n   --bloom-false-positive-probability 0.001 \\\n   --kmer-mask 16 \\\n   --kmer-size 31\n \u003c/pre\u003e\n\n \u003ch3\u003eNotes\u003c/h3\u003e\n\n \u003cp\u003eFor most references, the Java VM will run out of memory with the default settings. The Java heap size limit should\n be set at least 20x the size of the reference (less if building a Bloom filter). For example, for a 3 GB reference set\n the limit to 60 GB by adding --java-options \"-Xmx60g\" to the command.\u003c/p\u003e",
  "name": "PathSeqBuildKmers",
  "group": "Metagenomics",
  "beta": false,
  "experimental": false
}