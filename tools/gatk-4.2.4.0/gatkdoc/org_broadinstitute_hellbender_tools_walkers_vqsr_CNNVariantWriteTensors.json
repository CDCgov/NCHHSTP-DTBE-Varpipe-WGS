{
  "summary": "Write variant tensors for training a CNN to filter variants",
  "arguments": [
    {
      "summary": "Which set of annotations to use.",
      "name": "--annotation-set",
      "synonyms": "-annotation-set",
      "type": "String",
      "required": "no",
      "fulltext": "",
      "defaultValue": "best_practices",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "advanced",
      "options": []
    },
    {
      "summary": "read one or more arguments files and add them to the command line",
      "name": "--arguments_file",
      "synonyms": "NA",
      "type": "List[File]",
      "required": "no",
      "fulltext": "",
      "defaultValue": "[]",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    },
    {
      "summary": "BAM or BAMout file to use for read data when generating 2D tensors.",
      "name": "--bam-file",
      "synonyms": "-bam-file",
      "type": "String",
      "required": "no",
      "fulltext": "",
      "defaultValue": "\"\"",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    },
    {
      "summary": "Store the channels in the last axis of tensors, tensorflow-\u003etrue, theano-\u003efalse",
      "name": "--channels-last",
      "synonyms": "-channels-last",
      "type": "boolean",
      "required": "no",
      "fulltext": "",
      "defaultValue": "true",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "advanced",
      "options": []
    },
    {
      "summary": "Fraction of INDELs to write tensors for.",
      "name": "--downsample-indels",
      "synonyms": "-downsample-indels",
      "type": "float",
      "required": "no",
      "fulltext": "",
      "defaultValue": "0.5",
      "minValue": "-Infinity",
      "maxValue": "Infinity",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    },
    {
      "summary": "Fraction of SNPs to write tensors for.",
      "name": "--downsample-snps",
      "synonyms": "-downsample-snps",
      "type": "float",
      "required": "no",
      "fulltext": "",
      "defaultValue": "0.05",
      "minValue": "-Infinity",
      "maxValue": "Infinity",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    },
    {
      "summary": "A configuration file to use with the GATK.",
      "name": "--gatk-config-file",
      "synonyms": "NA",
      "type": "String",
      "required": "no",
      "fulltext": "",
      "defaultValue": "null",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "common",
      "options": []
    },
    {
      "summary": "If the GCS bucket channel errors out, how many times it will attempt to re-initiate the connection",
      "name": "--gcs-max-retries",
      "synonyms": "-gcs-retries",
      "type": "int",
      "required": "no",
      "fulltext": "",
      "defaultValue": "20",
      "minValue": "-Infinity",
      "maxValue": "Infinity",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    },
    {
      "summary": "Project to bill when accessing \"requester pays\" buckets. If unset, these buckets cannot be accessed.  User must have storage.buckets.get permission on the bucket being accessed.",
      "name": "--gcs-project-for-requester-pays",
      "synonyms": "NA",
      "type": "String",
      "required": "no",
      "fulltext": "",
      "defaultValue": "\"\"",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    },
    {
      "summary": "display the help message",
      "name": "--help",
      "synonyms": "-h",
      "type": "boolean",
      "required": "no",
      "fulltext": "",
      "defaultValue": "false",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    },
    {
      "summary": "Maximum number of tensors to write.",
      "name": "--max-tensors",
      "synonyms": "-max-tensors",
      "type": "int",
      "required": "no",
      "fulltext": "",
      "defaultValue": "1000000",
      "minValue": "0.0",
      "maxValue": "Infinity",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    },
    {
      "summary": "Directory of training tensors. Subdivided into train, valid and test sets.",
      "name": "--output-tensor-dir",
      "synonyms": "-output-tensor-dir",
      "type": "String",
      "required": "yes",
      "fulltext": "",
      "defaultValue": "null",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "required",
      "options": []
    },
    {
      "summary": "Whether to suppress job-summary info on System.err.",
      "name": "--QUIET",
      "synonyms": "NA",
      "type": "Boolean",
      "required": "no",
      "fulltext": "",
      "defaultValue": "false",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "common",
      "options": []
    },
    {
      "summary": "Reference fasta file.",
      "name": "--reference",
      "synonyms": "-R",
      "type": "String",
      "required": "yes",
      "fulltext": "",
      "defaultValue": "null",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "required",
      "options": []
    },
    {
      "summary": "display hidden arguments",
      "name": "--showHidden",
      "synonyms": "-showHidden",
      "type": "boolean",
      "required": "no",
      "fulltext": "",
      "defaultValue": "false",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "advanced",
      "options": []
    },
    {
      "summary": "Name of the tensors to generate.",
      "name": "--tensor-type",
      "synonyms": "-tensor-type",
      "type": "TensorType",
      "required": "no",
      "fulltext": "",
      "defaultValue": "reference",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": [
        {
          "summary": " 1 Hot encoding of a reference sequence. ",
          "name": "reference"
        },
        {
          "summary": "Read tensor are 3D tensors spanning aligned reads, sites and channels. The maximum number of reads is a hyper-parameter typically set to 128. There are 15 channels in the read tensor. They correspond to the reference sequence data (4), read sequence data (4), insertions and deletions (2) read flags (4) and mapping quality (1).",
          "name": "read_tensor"
        }
      ]
    },
    {
      "summary": "Temp directory to use.",
      "name": "--tmp-dir",
      "synonyms": "NA",
      "type": "GATKPath",
      "required": "no",
      "fulltext": "",
      "defaultValue": "null",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "common",
      "options": []
    },
    {
      "summary": "Confident region of the validated VCF file.",
      "name": "--truth-bed",
      "synonyms": "-truth-bed",
      "type": "String",
      "required": "yes",
      "fulltext": "",
      "defaultValue": "null",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "required",
      "options": []
    },
    {
      "summary": "Validated VCF file.",
      "name": "--truth-vcf",
      "synonyms": "-truth-vcf",
      "type": "String",
      "required": "yes",
      "fulltext": "",
      "defaultValue": "null",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "required",
      "options": []
    },
    {
      "summary": "Whether to use the JdkDeflater (as opposed to IntelDeflater)",
      "name": "--use-jdk-deflater",
      "synonyms": "-jdk-deflater",
      "type": "boolean",
      "required": "no",
      "fulltext": "",
      "defaultValue": "false",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "common",
      "options": []
    },
    {
      "summary": "Whether to use the JdkInflater (as opposed to IntelInflater)",
      "name": "--use-jdk-inflater",
      "synonyms": "-jdk-inflater",
      "type": "boolean",
      "required": "no",
      "fulltext": "",
      "defaultValue": "false",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "common",
      "options": []
    },
    {
      "summary": "Input VCF file",
      "name": "--variant",
      "synonyms": "-V",
      "type": "String",
      "required": "yes",
      "fulltext": "",
      "defaultValue": "null",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "required",
      "options": []
    },
    {
      "summary": "Control verbosity of logging.",
      "name": "--verbosity",
      "synonyms": "-verbosity",
      "type": "LogLevel",
      "required": "no",
      "fulltext": "",
      "defaultValue": "INFO",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "common",
      "options": [
        {
          "summary": "",
          "name": "ERROR"
        },
        {
          "summary": "",
          "name": "WARNING"
        },
        {
          "summary": "",
          "name": "INFO"
        },
        {
          "summary": "",
          "name": "DEBUG"
        }
      ]
    },
    {
      "summary": "display the version number for this tool",
      "name": "--version",
      "synonyms": "NA",
      "type": "boolean",
      "required": "no",
      "fulltext": "",
      "defaultValue": "false",
      "minValue": "NA",
      "maxValue": "NA",
      "minRecValue": "NA",
      "maxRecValue": "NA",
      "kind": "optional",
      "options": []
    }
  ],
  "description": "Write variant tensors for training a Convolutional Neural Network (CNN) for filtering variants.\n After running this tool, a model can be trained with the CNNVariantTrain tool.\n\n\n \u003ch3\u003eInputs\u003c/h3\u003e\n \u003cul\u003e\n      \u003cli\u003eThe input variants to make into tensors.\n      These variant calls must be annotated with the standard best practices annotations.\u003c/li\u003e\n      \u003cli\u003eThe truth VCF has validated variant calls, like those in the genomes in a bottle,\n      platinum genomes, or CHM VCFs.  Variants in both the input VCF and the truth VCF\n      will be used as positive training data.\u003c/li\u003e\n      \u003cli\u003eThe truth BED is a bed file define the confident region for the validated calls.\n      Variants from the input VCF inside this region, but not included in the truth VCF\n      will be used as negative training data.\u003c/li\u003e\n      \u003cli\u003eThe --tensor-type argument determines what types of tensors will be written.\n      Set it to \"reference\" to write 1D tensors or \"read_tensor\" to write 2D tensors.\u003c/li\u003e\n      \u003cli\u003eThe bam-file argument is necessary to write 2D tensors which incorporate read data.\u003c/li\u003e\n \u003c/ul\u003e\n\n \u003ch3\u003eOutputs\u003c/h3\u003e\n \u003cul\u003e\n \u003cli\u003edata-dir This directory is created and populated with variant tensors.\n  it will be divided into training, validation and test sets and each set will be further divided into\n  positive and negative SNPs and INDELs.\u003c/li\u003e\n \u003c/ul\u003e\n\n \u003ch3\u003eUsage example\u003c/h3\u003e\n\n \u003ch4\u003eWrite Reference Tensors\u003c/h4\u003e\n \u003cpre\u003e\n gatk CNNVariantWriteTensors \\\n   -R reference.fasta \\\n   -V input.vcf.gz \\\n   -truth-vcf platinum-genomes.vcf \\\n   -truth-bed platinum-confident-region.bed \\\n   -tensor-type reference \\\n   -output-tensor-dir my-tensor-folder\n \u003c/pre\u003e\n\n \u003ch4\u003eWrite Read Tensors\u003c/h4\u003e\n \u003cpre\u003e\n gatk CNNVariantWriteTensors \\\n   -R reference.fasta \\\n   -V input.vcf.gz \\\n   -truth-vcf platinum-genomes.vcf \\\n   -truth-bed platinum-confident-region.bed \\\n   -tensor-type read_tensor \\\n   -bam-file input.bam \\\n   -output-tensor-dir my-tensor-folder\n \u003c/pre\u003e",
  "name": "CNNVariantWriteTensors",
  "group": "Variant Filtering",
  "beta": false,
  "experimental": true
}